<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Happy Birthday, My dear strangerüíú</title>
  <meta name="description" content="A sweet birthday surprise with hearts, confetti, music, and a hidden message." />
  <style>
    :root{
      --violet-900:#3a267a;
      --violet-700:#6a4cff;
      --violet-500:#a48cff;
      --violet-300:#d7c9ff;
      --rose-400:#ff7aa2;
      --bg: radial-gradient(1200px 800px at 80% -10%, rgba(255,255,255,0.2), transparent 60%),
             radial-gradient(1200px 800px at -10% 120%, rgba(255,255,255,0.15), transparent 60%),
             linear-gradient(160deg, #5b3fe0, #b084f9 60%, #e4d9ff);
    }
    *{box-sizing:border-box}
    html,body{height:100%;}
    body{
      margin:0; font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji";
      background:var(--bg); color:#fff; overflow-x:hidden;
    }

    /* Floating hearts background */
    .heart{position:absolute; width:18px; height:18px; transform:rotate(45deg); background:linear-gradient(45deg, #ff99c8, #ff5fa2); opacity:.75; filter: drop-shadow(0 4px 8px rgba(0,0,0,.2));}
    .heart:before,.heart:after{content:""; position:absolute; width:18px; height:18px; border-radius:50%; background:inherit;}
    .heart:before{top:-9px; left:0}
    .heart:after{left:-9px; top:0}
    @keyframes rise { from { transform: translateY(20vh) scale(.6) rotate(45deg); opacity:.0 } to { transform: translateY(-120vh) scale(1.1) rotate(45deg); opacity:1 } }

    /* Center card */
    .center{min-height:100svh; display:grid; place-items:center; padding:24px}
    .card{
      width:min(720px, 92vw); background:rgba(28, 8, 68, .38); border:1px solid rgba(255,255,255,.18);
      backdrop-filter: blur(10px); border-radius:24px; padding:28px; box-shadow:0 20px 50px rgba(36,0,80,.35);
    }
    h1{margin:0 0 8px; font-size: clamp(28px, 5vw, 44px); letter-spacing:.5px}
    p.lead{margin:0 0 18px; font-size:clamp(14px, 2.8vw, 18px); color:#f7ecff}

    .btn{
      display:inline-flex; gap:10px; align-items:center; justify-content:center;
      background:linear-gradient(135deg, var(--rose-400), #b084f9);
      color:#fff; border:none; padding:14px 18px; border-radius:14px; font-weight:700; cursor:pointer;
      box-shadow: 0 8px 18px rgba(176,132,249,.35); transition: transform .15s ease, box-shadow .15s ease;
    }
    .btn:hover{ transform: translateY(-2px); box-shadow:0 10px 24px rgba(176,132,249,.45) }

    /* Hidden surprise panel */
    .surprise{ display:none; margin-top:18px; }
    .show{ display:block }

    /* Typewriter */
    .type{ font-size:clamp(16px, 3.5vw, 20px); line-height:1.6; white-space:pre-wrap; border-left:3px solid #ffd6e8; padding-left:12px; }

    /* Gallery */
    .grid{ display:grid; grid-template-columns:repeat(2,1fr); gap:12px; margin-top:16px }
    @media(min-width:680px){ .grid{ grid-template-columns:repeat(4,1fr) } }
    .ph{ position:relative; aspect-ratio: 1/1; border-radius:14px; overflow:hidden; background:rgba(255,255,255,.12); border:1px dashed rgba(255,255,255,.35); display:grid; place-items:center; font-size:14px; color:#fff; }

    /* Gift box */
    .gift{ margin:22px auto 0; width:140px; height:120px; position:relative; cursor:pointer }
    .box{ position:absolute; inset:auto 0 0; height:80px; background:#8a5cf6; border-radius:14px; box-shadow: inset 0 -8px 0 #6a44f0 }
    .ribbon{ position:absolute; inset:auto 0 0; width:24px; height:120px; background:#ffd1e8; left:50%; transform:translateX(-50%); border-radius:10px }
    .lid{ position:absolute; bottom:76px; left:50%; transform:translateX(-50%); width:160px; height:40px; background:#9b73ff; border-radius:14px; box-shadow: 0 6px 0 #6a44f0; transition: transform .4s ease }
    .gift.open .lid{ transform: translateX(-50%) rotate(-12deg) translateY(-40px) }

    /* Confetti canvas */
    #confetti{ position:fixed; inset:0; pointer-events:none }

    footer{ text-align:center; font-size:12px; color:#f2e9ff; opacity:.9; padding:24px 12px }
    a{ color:#ffe0f2 }
  </style>
</head>
<body>
  <canvas id="confetti"></canvas>

  <!-- Floating hearts generated by JS -->
  <div id="hearts"></div>

  <main class="center">
    <section class="card">
      <h1>Happy Birthday, <span id="name">My dear stranger</span> üéÇüíú</h1>
      <p class="lead">I've built a tiny website just for you. Tap the button and let me show you how much you mean to me. ‚ú®</p>
      <button id="startBtn" class="btn" aria-label="Start the surprise">
        <span>Start the Surprise</span>
        <span aria-hidden>üéÅ</span>
      </button>

      <section id="surprise" class="surprise">
        <div class="type" id="typewriter"></div>

        <div class="grid" id="gallery">
          <!-- Replace the placeholders below with your own images (put images in the same folder) -->
          <div class="ph">Add photo 1 (img1.jpg)</div>
          <div class="ph">Add photo 2 (img2.jpg)</div>
          <div class="ph">Add photo 3 (img3.jpg)</div>
          <div class="ph">Add photo 4 (img4.jpg)</div>
        </div>

        <div class="gift" id="gift" title="Open me!">
          <div class="lid"></div>
          <div class="box"></div>
          <div class="ribbon"></div>
        </div>

        <div id="giftMessage" class="type" style="display:none; margin-top:18px"></div>

        <audio id="song" preload="auto">
          <!-- Put your mp3 file in the same folder and rename it to song.mp3 or change the src below. Autoplay starts only after pressing Start. -->
          <source src="song.mp3" type="audio/mpeg" />
        </audio>
      </section>
    </section>
  </main>

  <footer>
    Made with üíú by <span id="fromName">You</span>. ‚Äî Tip: open this file and change the names & messages inside.
  </footer>

  <script>
    // ==== Customizable bits (edit these!) ====
    const HER_NAME = "[Her Name]"; // e.g., "Anu"
    const YOUR_NAME = "[Your Name]"; // e.g., "Barath"

    const loveLines = [
      `To my dearest ${HER_NAME},`,
      "Every moment with you turns ordinary days into little festivals.",
      "Thank you for your smile, your patience, and your endless kindness.",
      "On your special day, I promise to love you loudly, gently, and forever.",
      "Let‚Äôs collect a million tiny memories‚Äîstarting now. üí´"
    ];

    const giftReveal = `üéâ Surprise! Your gift: A whole day planned just for you‚Äîbreakfast in bed, a photo walk at sunset, and your favorite dessert to finish.\n\nI love you, ‚Äî ${YOUR_NAME}`;

    // ===== UI wiring =====
    const nameEl = document.getElementById('name');
    const fromNameEl = document.getElementById('fromName');
    nameEl.textContent = HER_NAME !== "[Her Name]" ? HER_NAME : nameEl.textContent;
    fromNameEl.textContent = YOUR_NAME !== "[Your Name]" ? YOUR_NAME : fromNameEl.textContent;

    const startBtn = document.getElementById('startBtn');
    const surprise = document.getElementById('surprise');
    const typeEl = document.getElementById('typewriter');
    const song = document.getElementById('song');
    const gallery = document.getElementById('gallery');

    // Replace placeholders with actual images if available
    const imgList = ['img1.jpg','img2.jpg','img3.jpg','img4.jpg'];
    imgList.forEach((src, i)=>{
      const img = new Image();
      img.onload = ()=>{
        const cell = gallery.children[i];
        cell.innerHTML = '';
        cell.style.border = 'none';
        cell.style.background = 'transparent';
        cell.appendChild(img);
        img.style.width = '100%';
        img.style.height = '100%';
        img.style.objectFit = 'cover';
      };
      img.src = src; // If the file exists, it will load and replace the placeholder.
    });

    // Typewriter effect
    async function typeLines(lines, el, speed=28){
      el.textContent = '';
      for(const line of lines){
        await typeText(line + "\n\n", el, speed);
      }
    }
    function typeText(text, el, speed){
      return new Promise(res=>{
        let i=0; const t = setInterval(()=>{
          el.textContent += text.charAt(i++);
          if(i>=text.length){ clearInterval(t); res(); }
        }, speed);
      });
    }

    // Confetti (simple)
    const confettiCanvas = document.getElementById('confetti');
    const ctx = confettiCanvas.getContext('2d');
    let confettiPieces = [];
    function resize(){ confettiCanvas.width = innerWidth; confettiCanvas.height = innerHeight }
    addEventListener('resize', resize); resize();

    function makeConfetti(count=180){
      const colors = ['#ffffff','#ffd1e8','#ff8cc6','#b084f9','#d7c9ff'];
      confettiPieces = new Array(count).fill().map(()=>({
        x: Math.random()*confettiCanvas.width,
        y: Math.random()*-confettiCanvas.height,
        size: 6+Math.random()*8,
        color: colors[Math.floor(Math.random()*colors.length)],
        speed: 1+Math.random()*3,
        rot: Math.random()*Math.PI,
      }));
    }
    function drawConfetti(){
      ctx.clearRect(0,0,confettiCanvas.width, confettiCanvas.height);
      confettiPieces.forEach(p=>{
        p.y += p.speed; p.rot += 0.02;
        if(p.y > confettiCanvas.height) p.y = -10;
        ctx.save(); ctx.translate(p.x, p.y); ctx.rotate(p.rot);
        ctx.fillStyle = p.color; ctx.fillRect(-p.size/2, -p.size/2, p.size, p.size);
        ctx.restore();
      });
      requestAnimationFrame(drawConfetti);
    }

    // Floating hearts
    const hearts = document.getElementById('hearts');
    function spawnHearts(){
      for(let i=0;i<14;i++){
        const h = document.createElement('div');
        h.className='heart';
        h.style.left = Math.random()*100 + 'vw';
        h.style.bottom = '-10vh';
        h.style.animation = `rise ${10+Math.random()*14}s linear ${Math.random()*6}s infinite`;
        h.style.opacity = 0.6 + Math.random()*0.4;
        h.style.scale = 0.6 + Math.random()*0.9;
        hearts.appendChild(h);
      }
    }

    // Gift interactions
    const gift = document.getElementById('gift');
    const giftMsg = document.getElementById('giftMessage');
    gift.addEventListener('click', ()=>{
      gift.classList.toggle('open');
      if(gift.classList.contains('open')){
        giftMsg.style.display='block';
        typeText(giftReveal, giftMsg, 18);
      } else {
        giftMsg.style.display='none';
        giftMsg.textContent='';
      }
    });

    // Start button
    startBtn.addEventListener('click', async ()=>{
      surprise.classList.add('show');
      startBtn.style.display='none';
      // music (allowed after user gesture)
      try { await song.play(); } catch(e) { /* ignore if no file */ }
      // confetti
      makeConfetti(); drawConfetti();
      // floating hearts
      spawnHearts();
      // typing
      typeLines(loveLines, typeEl, 24);
    });
  </script>
</body>
</html>
